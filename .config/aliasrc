#!/bin/sh
alias ka="killall" \
    e="$EDITOR" \
    dmenu_run="/usr/local/bin/dmenu_run -p 'Command >'" \
    v="$EDITOR" \
    vim="$EDITOR" \
    calcurse="calcurse -D ~/.config/calcurse" \
    mpd="mpd ~/.config/mpd/mpd.conf" \
    abook="abook -C $HOME/.config/abook/abookrc --datafile $HOME/.config/abook/addressbook" \
    cl="calcurse -D ~/.config/calcurse" \
    cat="highlight --force --out-format=ansi" \
    ccat="/bin/cat" \
    ls="gls -hN --color=auto --group-directories-first" \
    grep="grep --color=auto" \
    diff="colordiff" \
    fzfp="fzf --preview 'highlight --force --out-format=ansi {}'" \
    clock="tty-clock -c" \
    youtube="youtube-dl --add-metadata -i -o '%(upload_date)s-%(title)s.%(ext)s'" \
    download="cd ~/Downloads && aria2c" \
    repr="source ~/.profile && cd -" \
    cmusd="tmux new-session -A -D -s cmus '$(which cmus)'" \
    trem="transmission-remote-cli" \
    lock="/System/Library/CoreServices/ScreenSaverEngine.app/Contents/MacOS/ScreenSaverEngine" \
    python="python3" \
    musicphp="/Users/frank/.config/composer/vendor/bin/music-php" \
    hw="task list project:School" \
    dotfiles="/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME" \
    cpr="compiler" \
    r="/usr/local/bin/r" \
    bookmarks="buku --colors oKlxm -p | less" \
    ycom="unlink conan_ycm_flags.json && rm .ycm_extra_conf.py && cp build/conan_ycm_extra_conf.py .ycm_extra_conf.py && ln -s build/conan_ycm_flags.json conan_ycm_flags.json" \
    sf="surfraw google" \
    newsboat="newsboat -q" \
    suckclean="make clean && rm config.h && git reset --hard origin/master" \

fvim() {
	$EDITOR "$(fzfp -m --prompt='File> ')"
}
fweb() {
	w3m "$(buku --colors oKlxm -p | fzf --prompt='Website> ')"
}
fzat() {
	zathura --fork "$(du -a . | awk '{$1 = ""; print $0}' | sed 's/^ //g' | grep ".pdf$" | fzfp -m --prompt='PDF> ')" 2> /dev/null
}
fimg() {
	sxiv -qb "$(du -a . | awk '{$1 = ""; print $0}' | sed 's/^ //g' | awk '/jpeg/ || /png/ || /jpg/ || /gif/' | fzfp -m --prompt='Image> ')"
}
fconfig() {
    $EDITOR "$(du -a ~/.config ~/.local/bin | awk '{print $2}' | fzfp --prompt='Config> ')"
}
ftex() {
    $EDITOR "$(du -a ~/Documents/Document-Templates/LaTeX ~/Documents/Bibliography | awk '{print $2}' | fzfp --prompt='Config> ')"
}
fbrew() {
	inst="$(brew search | fzf -m --prompt='Package> ' --preview 'brew info {}')"
	if [ "$inst" ]; then
		for prog in $inst;
    	do brew install "$prog"; done;
  	fi
}
fman() {
	man "$(man -k . | fzf --prompt='Man> ' | sed 's/(/ /g' | awk '{print $1}')"
}
ftldr() {
    tldr "$(tldr --list | sed "s/ //g" | tr "," "\n" | fzf --prompt='Tldr> ' --preview 'tldr {}')"
}
fpass() {
	lpass show -c --password $(lpass ls  | fzf -m --prompt='Account> ' | awk '{print $(NF)}' | sed 's/\]//g')
}
lfcd() {
    tmp="$(mktemp)"
    lf -last-dir-path="$tmp" "$@"
    if [ -f "$tmp" ]; then
        dir="$(cat "$tmp")"
        rm -f "$tmp"
        [ -d "$dir" ] && [ "$dir" != "$(pwd)" ] && cd "$dir"
    fi
}
