#!/bin/bash
CFG="$HOME/.config/alacritty/alacritty.yml"
if grep -q '^# BEGIN ACE' "$CFG"; then
	echo "Existing 'generated' colors found, replacing new colors...'"
	sed -i '' -e '/^# BEGIN ACE/,/^# END ACE/{/^# BEGIN ACE/!{/^# END ACE/!d;};}' "$CFG"
else
	echo "There's no existing 'generated' colors, adding comments...";
	echo -e '# BEGIN ACE\n# END ACE' >> "$CFG";
fi

sed -i '' -e "/^# BEGIN ACE/ r /dev/stdin" "$CFG" <<EOF
colors:
    primary:
        background: '0x282a36'
        foreground: '0xf8f8f2'
    cursor:
        background: '0x282a36'
        foreground: '0xf8f8f2'
    normal:
        black:   '0x000000'
        red:     '0xff5555'
        green:   '0x50fa7b'
        yellow:  '0xf1fa8c'
        blue:    '0xcaa9fa'
        magenta: '0xff79c6'
        cyan:    '0x8be9fd'
        white:   '0xbfbfbf'
    bright:
        black:   '0x282a35'
        red:     '0xff6e67'
        green:   '0x5af78e'
        yellow:  '0xf4f99d'
        blue:    '0xcaa9fa'
        magenta: '0xff92d0'
        cyan:    '0x9aedfe'
        white:   '0xe6e6e6'

EOF
